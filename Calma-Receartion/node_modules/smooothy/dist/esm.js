var j=Object.create;var{getPrototypeOf:T,defineProperty:k,getOwnPropertyNames:O}=Object;var X=Object.prototype.hasOwnProperty;var q=(o,n,t)=>{t=o!=null?j(T(o)):{};let l=n||!o||!o.__esModule?k(t,"default",{value:o,enumerable:!0}):t;for(let c of O(o))if(!X.call(l,c))k(l,c,{get:()=>o[c],enumerable:!0});return l};var F=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports);var K=F((w,E)=>{(function(o,n){typeof w=="object"&&typeof E!="undefined"?E.exports=n():typeof define=="function"&&define.amd?define(n):(o||self).virtualScroll=n()})(w,function(){var o=0;function n(y){return"__private_"+o+++"_"+y}function t(y,b){if(!Object.prototype.hasOwnProperty.call(y,b))throw new TypeError("attempted to use private field on non-instance");return y}function l(){}l.prototype={on:function(y,b,u){var h=this.e||(this.e={});return(h[y]||(h[y]=[])).push({fn:b,ctx:u}),this},once:function(y,b,u){var h=this;function i(){h.off(y,i),b.apply(u,arguments)}return i._=b,this.on(y,i,u)},emit:function(y){for(var b=[].slice.call(arguments,1),u=((this.e||(this.e={}))[y]||[]).slice(),h=0,i=u.length;h<i;h++)u[h].fn.apply(u[h].ctx,b);return this},off:function(y,b){var u=this.e||(this.e={}),h=u[y],i=[];if(h&&b)for(var e=0,_=h.length;e<_;e++)h[e].fn!==b&&h[e].fn._!==b&&i.push(h[e]);return i.length?u[y]=i:delete u[y],this}};var c=l;c.TinyEmitter=l;var f,p="virtualscroll",a=n("options"),s=n("el"),r=n("emitter"),m=n("event"),v=n("touchStart"),M=n("bodyTouchAction");return function(){function y(u){var h=this;Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),this._onWheel=function(i){var e=t(h,a)[a],_=t(h,m)[m];_.deltaX=i.wheelDeltaX||-1*i.deltaX,_.deltaY=i.wheelDeltaY||-1*i.deltaY,f.isFirefox&&i.deltaMode===1&&(_.deltaX*=e.firefoxMultiplier,_.deltaY*=e.firefoxMultiplier),_.deltaX*=e.mouseMultiplier,_.deltaY*=e.mouseMultiplier,h._notify(i)},this._onMouseWheel=function(i){var e=t(h,m)[m];e.deltaX=i.wheelDeltaX?i.wheelDeltaX:0,e.deltaY=i.wheelDeltaY?i.wheelDeltaY:i.wheelDelta,h._notify(i)},this._onTouchStart=function(i){var e=i.targetTouches?i.targetTouches[0]:i;t(h,v)[v].x=e.pageX,t(h,v)[v].y=e.pageY},this._onTouchMove=function(i){var e=t(h,a)[a];e.preventTouch&&!i.target.classList.contains(e.unpreventTouchClass)&&i.preventDefault();var _=t(h,m)[m],x=i.targetTouches?i.targetTouches[0]:i;_.deltaX=(x.pageX-t(h,v)[v].x)*e.touchMultiplier,_.deltaY=(x.pageY-t(h,v)[v].y)*e.touchMultiplier,t(h,v)[v].x=x.pageX,t(h,v)[v].y=x.pageY,h._notify(i)},this._onKeyDown=function(i){var e=t(h,m)[m];e.deltaX=e.deltaY=0;var _=window.innerHeight-40;switch(i.keyCode){case 37:case 38:e.deltaY=t(h,a)[a].keyStep;break;case 39:case 40:e.deltaY=-t(h,a)[a].keyStep;break;case 32:e.deltaY=_*(i.shiftKey?1:-1);break;default:return}h._notify(i)},t(this,s)[s]=window,u&&u.el&&(t(this,s)[s]=u.el,delete u.el),f||(f={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}),t(this,a)[a]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},u),t(this,r)[r]=new c,t(this,m)[m]={y:0,x:0,deltaX:0,deltaY:0},t(this,v)[v]={x:null,y:null},t(this,M)[M]=null,t(this,a)[a].passive!==void 0&&(this.listenerOptions={passive:t(this,a)[a].passive})}var b=y.prototype;return b._notify=function(u){var h=t(this,m)[m];h.x+=h.deltaX,h.y+=h.deltaY,t(this,r)[r].emit(p,{x:h.x,y:h.y,deltaX:h.deltaX,deltaY:h.deltaY,originalEvent:u})},b._bind=function(){f.hasWheelEvent&&t(this,s)[s].addEventListener("wheel",this._onWheel,this.listenerOptions),f.hasMouseWheelEvent&&t(this,s)[s].addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),f.hasTouch&&t(this,a)[a].useTouch&&(t(this,s)[s].addEventListener("touchstart",this._onTouchStart,this.listenerOptions),t(this,s)[s].addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),f.hasPointer&&f.hasTouchWin&&(t(this,M)[M]=document.body.style.msTouchAction,document.body.style.msTouchAction="none",t(this,s)[s].addEventListener("MSPointerDown",this._onTouchStart,!0),t(this,s)[s].addEventListener("MSPointerMove",this._onTouchMove,!0)),f.hasKeyDown&&t(this,a)[a].useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},b._unbind=function(){f.hasWheelEvent&&t(this,s)[s].removeEventListener("wheel",this._onWheel),f.hasMouseWheelEvent&&t(this,s)[s].removeEventListener("mousewheel",this._onMouseWheel),f.hasTouch&&(t(this,s)[s].removeEventListener("touchstart",this._onTouchStart),t(this,s)[s].removeEventListener("touchmove",this._onTouchMove)),f.hasPointer&&f.hasTouchWin&&(document.body.style.msTouchAction=t(this,M)[M],t(this,s)[s].removeEventListener("MSPointerDown",this._onTouchStart,!0),t(this,s)[s].removeEventListener("MSPointerMove",this._onTouchMove,!0)),f.hasKeyDown&&t(this,a)[a].useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},b.on=function(u,h){t(this,r)[r].on(p,u,h);var i=t(this,r)[r].e;i&&i[p]&&i[p].length===1&&this._bind()},b.off=function(u,h){t(this,r)[r].off(p,u,h);var i=t(this,r)[r].e;(!i[p]||i[p].length<=0)&&this._unbind()},b.destroy=function(){t(this,r)[r].off(),this._unbind()},y}()})});var P=q(K(),1);function J(o,n,t){return o*(1-t)+n*t}function d(o,n,t,l){let c=1-Math.exp(-t*l);return o+(n-o)*c}function Y(o,n){let t=o%n;if(Math.abs(t)>n/2)t=t>0?t-n:t+n;return t}var Q={infinite:!0,snap:!0,dragSensitivity:0.005,lerpFactor:0.3,scrollSensitivity:1,snapStrength:0.1,speedDecay:0.85,bounceLimit:1,virtualScroll:{mouseMultiplier:0.5,touchMultiplier:2,firefoxMultiplier:30,useKeyboard:!1,passive:!0},setOffset:({itemWidth:o,wrapperWidth:n})=>o,scrollInput:!1};class W{speed=0;#e=0;#a=0;#r=0;deltaTime=0;#t=!0;#n=!1;#o=0;#u=0;config;wrapper;items;viewport;isDragging=!1;dragStart=0;dragStartTarget=0;isVisible=!1;current=0;target=0;maxScroll=0;resizeTimeout;virtualScroll;observer;touchStartY;touchStartX;touchPreviousX;scrollDirection;parallaxValues;webglValue=0;onSlideChange;onResize;onUpdate;constructor(o,n={}){if(this.config={...Q,...n},n.onSlideChange)this.onSlideChange=n.onSlideChange;if(n.onResize)this.onResize=n.onResize;if(n.onUpdate)this.onUpdate=n.onUpdate;delete this.config.onSlideChange,delete this.config.onResize,delete this.config.onUpdate,this.wrapper=o,this.items=[...o.children],this.current=0,this.target=0,this.isDragging=!1,this.dragStart=0,this.dragStartTarget=0,this.isVisible=!1,this.#o=0,this.#u=0,this.#f(),this.#y(),this.#b(),this.wrapper.style.cursor="grab",this.#f(),this.#v()}#y(){let o={root:null,rootMargin:"50px",threshold:0};this.observer=new IntersectionObserver((n)=>{n.forEach((t)=>{this.isVisible=t.isIntersecting})},o),this.observer.observe(this.wrapper)}#f(){this.viewport={itemWidth:this.items[0].getBoundingClientRect().width,wrapperWidth:this.wrapper.clientWidth,totalWidth:this.items.reduce((o,n)=>o+n.clientWidth,0)},this.#a=this.config.setOffset(this.viewport),this.maxScroll=-(this.viewport.totalWidth-this.#a)/this.viewport.itemWidth,queueMicrotask(()=>{this.onResize?.(this)})}#b(){let o=(s)=>this.#h(s),n=(s)=>this.#i(s),t=()=>this.#s();this.wrapper.addEventListener("mousedown",o),window.addEventListener("mousemove",n),window.addEventListener("mouseup",t);let l=5,c=(s)=>{let r=s.touches[0];this.touchStartY=r.clientY,this.touchStartX=r.clientX,this.touchPreviousX=r.clientX,this.scrollDirection=void 0,this.#h(r)},f=(s)=>{let r=s.touches[0],m=Math.abs(r.clientY-this.touchStartY),v=Math.abs(r.clientX-this.touchStartX);if(!this.scrollDirection&&(v>l||m>l))this.scrollDirection=v>m?"horizontal":"vertical";if(this.scrollDirection==="horizontal")s.preventDefault(),this.#i(r),this.touchPreviousX=r.clientX},p=()=>{this.scrollDirection=void 0,this.touchPreviousX=void 0,this.#s()};this.wrapper.addEventListener("touchstart",c),window.addEventListener("touchmove",f,{passive:!1}),window.addEventListener("touchend",p),new ResizeObserver(()=>{if(this.resizeTimeout)clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(()=>this.resize(),10)}).observe(this.wrapper)}#l(o){if(!this.config.infinite){if(o>this.config.bounceLimit)return this.config.bounceLimit;else if(o<this.maxScroll-this.config.bounceLimit)return this.maxScroll-this.config.bounceLimit}return o}#v(){this.virtualScroll=new P.default({...this.config.virtualScroll,el:this.wrapper});let o=5;this.virtualScroll.on((n)=>{if(!this.isDragging&&!this.#n){if(n.touchDevice){let f=Math.abs(n.deltaY),p=Math.abs(n.deltaX);if(f<o&&p<o)return;if(f>p)return}let l=(!this.config.scrollInput?n.deltaX:Math.abs(n.deltaX)>Math.abs(n.deltaY)?n.deltaX:n.deltaY)*this.config.scrollSensitivity*0.001,c=this.target+l;if(!this.config.infinite){if(c>0)c=0;else if(c<this.maxScroll)c=this.maxScroll}this.target=this.#l(c),this.speed=-l*10}})}#h(o){if(this.#n)return;this.isDragging=!0,this.dragStart=o.clientX,this.dragStartTarget=this.target,this.wrapper.style.cursor="grabbing"}#i(o){if(!this.isDragging||this.#n)return;let n=o.clientX-this.dragStart,t=this.dragStartTarget+n*this.config.dragSensitivity;if(this.target=this.#l(t),"movementX"in o)this.speed+=o.movementX*0.01;else{let l=o.clientX,c=this.touchPreviousX||l,f=l-c;this.speed+=f*0.01}}#s(){if(this.isDragging=!1,this.wrapper.style.cursor="grab",!this.config.infinite){if(this.target>0)this.target=0;else if(this.target<this.maxScroll)this.target=this.maxScroll;else if(this.config.snap){let o=Math.round(this.target);this.target=Math.min(0,Math.max(this.maxScroll,o))}}else if(this.config.snap)this.target=Math.round(this.target)}update(){if(!this.isVisible||!this.#t)return;let o=performance.now();if(this.deltaTime=(o-this.#r)/1000,this.#r=o,this.config.snap&&!this.isDragging){let t=Math.round(this.target)-this.target;this.target+=t*this.config.snapStrength}if(this.current=d(this.current,this.target,1/this.config.lerpFactor,this.deltaTime),this.config.infinite){let n=Math.round(-this.current),t=this.items.length,l=(n%t+t)%t;this.#c(l),this.#_()}else this.#c(Math.round(Math.abs(this.current))),this.#m();this.#p(),this.onUpdate?.(this)}#m(){this.parallaxValues=this.items.map((o,n)=>{let t=this.current*this.viewport.itemWidth;return o.style.transform=`translateX(${t}px)`,t})}#_(){this.parallaxValues=this.items.map((o,n)=>{let t=this.current+n,c=(Y(t,this.items.length)-n)*this.viewport.itemWidth;return o.style.transform=`translateX(${c}px)`,Y(t,this.items.length)})}#p(){this.#e=d(this.#e,this.speed,1/this.config.lerpFactor,this.deltaTime),this.speed*=this.config.speedDecay}goToNext(){if(!this.config.infinite)this.target=Math.max(this.maxScroll,Math.round(this.target-1));else this.target=Math.round(this.target-1)}goToPrev(){if(!this.config.infinite)this.target=Math.min(0,Math.round(this.target+1));else this.target=Math.round(this.target+1)}goToIndex(o){this.target=-o}set snap(o){this.config.snap=o}getProgress(){let o=this.items.length;return Math.abs(this.current)%o/o}destroy(){if(this.kill(),window.removeEventListener("mousemove",(o)=>this.#i(o)),window.removeEventListener("mouseup",()=>this.#s()),window.removeEventListener("touchmove",(o)=>{let n=o.touches[0];this.#i(n)}),window.removeEventListener("touchend",()=>this.#s()),this.wrapper.removeEventListener("mousedown",(o)=>this.#h(o)),this.wrapper.removeEventListener("touchstart",(o)=>{let n=o.touches[0];this.#h(n)}),this.resizeTimeout)clearTimeout(this.resizeTimeout);if(this.virtualScroll&&this.config.scrollInput)this.virtualScroll.destroy();if(this.observer)this.observer.disconnect()}get currentSlide(){return this.#o}#c(o){if(this.#o!==o)this.#u=this.#o,this.#o=o,this.onSlideChange?.(this.#o,this.#u)}kill(){this.#t=!1,this.items.forEach((o)=>{o.style.transform=""}),this.current=0,this.target=0,this.speed=0,this.#e=0,this.touchPreviousX=void 0}init(){this.#t=!0,this.#r=performance.now()}set paused(o){this.#n=o}get paused(){return this.#n}get progress(){if(this.config.infinite){let o=-this.target,n=this.items.length;return(o%n+n)%n/(n-1)}else{let o=Math.abs(this.current),n=Math.abs(this.maxScroll);return Math.max(0,Math.min(1,o/n))}}resize(){this.#f();let o=this.#t,n=this.isVisible;this.#t=!0,this.isVisible=!0,this.update(),this.#t=o,this.isVisible=n}}var U=W;export{Y as symmetricMod,J as lerp,U as default,d as damp};

//# debugId=7BDB372A5BA8CE2D64756E2164756E21
